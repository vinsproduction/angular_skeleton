var app;app=angular.module("app",["ngCookies"]),angular.element(document).ready(function(){return angular.bootstrap(document,["app"])}),app.constant("APP",{debug:function(){var o;return/debug/.test(window.location.search)?o={test:/\^?debug=test$/.test(location.search),api:/\^?debug=api$/.test(location.search)}:!1}(),local:""===window.location.host||/localhost/.test(window.location.host),host:window.location.protocol+"//"+window.location.host}),app.run(["APP","$rootScope",function(o,n){window.console.groupCollapsed("[App] init"),window.console.log("APP:",o),window.console.log("app:",app),window.console.groupEnd()}]),app.run(["APP","$rootScope",function(o,n){var t;n.isEmpty=_.isEmpty,n.size=_.size,t=function(o,n){var t;return t=[2,0,1,1,1,2],n[o%100>4&&20>o%100?2:t[5>o%10?o%10:5]]}}]),app.forms={},app.forms.scroll=function(o){var n,t,e;t=o,e=t.find("[data-selected]"),n=t.find("[data-options]"),t.find(".scrollbar").size()||(n.wrapInner('<div class="viewport"><div class="overview"></div></div>'),n.prepend('<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>')),_.defer(function(){var o;return o=n.tinyscrollbar({sizethumb:40,wheel:$$.browser.mobile?2:40,invertscroll:$$.browser.mobile}),e.click(function(){return o.tinyscrollbar_update()}),o.tinyscrollbar_update()})},app.config(["$interpolateProvider",function(o){o.startSymbol("[["),o.endSymbol("]]")}]),app.config(["$sceProvider",function(o){o.enabled(!1)}]),app.directive("tabsDirective",["$rootScope","$window","$location",function(o,n,t){return{restrict:"A",link:function(n,e,r){var p,a,c;a=$(e),p=a.find("> .labels"),o.$on("$locationChangeStart",function(o,n){var e;e=t.path().replace("/",""),c(e)}),p.on("click",".label",function(){var n;n=$(this).attr("data-tab"),t.path(n),o.$apply()}),c=function(o){var n,t;t=p.find("> .label"),n=a.find("> .contents > .content"),t.filter("[data-tab='"+o+"']").size()&&(t.removeClass("active"),n.removeClass("active"),t.filter("[data-tab='"+o+"']").addClass("active"),n.filter("[data-tab='"+o+"']").addClass("active"))}}}}]),app.factory("Http",["$http","APP",function(o,n){var t,e;return t={log:!0,method:"GET",url:"",headers:{},data:{}},e=function(r){var p,a,c,i;return null==r&&(r={}),a=null!=(i=r.log)?i:t.log,p=n.debug.api?"DEBUG API ":"",c=angular.extend({},t,r),delete c.log,e=o(c),e.success(function(o,n,t,e){return a?console.debug("["+p+e.method+" "+n+"] "+e.url+" | data:",e.data,"| success:",o):void 0}),e.error(function(o,n,t,e){return a?console.error("["+p+e.method+" "+n+"] "+e.url+" | error:",o,"| config:",e):void 0}),e}}]),app.factory("Api",["Http","APP",function(o,n){var t;return t=function(e){return null==e&&(e={}),e.url=n.host+"/api/"+e.url,e.xsrfHeaderName="X-CSRFToken",e.xsrfCookieName="csrftoken",t=o(e),t.success(function(o,n,t,e){}),t.error(function(o,n,t,e){}),t}}]),app.factory("Popup",["$rootScope","Camelcase","$timeout",function(o,n,t){var e,r,p,a,c,i,u;return a=o,i=window.popup,i.logs=!1,c={},c={open:function(o,n){return i.open.call(i,o,n)},close:function(){return i.close.call(i)}},a.popup=c,u={},a.popups=u,_.each(i.popups,function(o){var t;return t=n(o.name),u[t]={popupIsOpen:!1}}),p=function(o){var e;e=n(o.name),u[e]&&(o.opt||(o.opt={}),o.opt.scope||(o.opt.scope={}),u[e]=angular.extend(u[e],o.opt.scope),u[e].popupIsOpen=!0,a.$$phase||a.$digest(),t(function(){return $(window).resize(),u[e].popupOnOpen?u[e].popupOnOpen():void 0}))},e=function(o){var e;e=n(o.name),u[e]&&(u[e].popupIsOpen=!1,a.$$phase||a.$digest(),t(function(){return u[e].popupOnClose?u[e].popupOnClose():void 0}))},i.$popup.on("open",function(o,n){p(n)}),i.$popup.on("close",function(o,n){e(n)}),r={watch:function(o){var e;return o=n(o),u[o]?e=a.$watchCollection("popups."+o,function(o){return console.log("Popup watch:change",o),t(o.popupIsOpen?function(){return console.log("Popup watch:open",o)}:function(){return console.log("Popup watch:close",o)})}):void 0},scope:function(o,e){return o?(o=n(o),u[o]?(u[o]=angular.extend(e,u[o]),t(function(){return u[o].popupOnInit?u[o].popupOnInit():void 0}),u[o]):void 0):u[o]}}}]),app.factory("Camelcase",[function(){return function(o){return o.replace(/(?:^\w|[A-Z]|\b\w)/g,function(o,n){return 0===n?o.toLowerCase():o.toUpperCase()}).replace(/\s+/g,"").replace(/\-/g,"")}}]),app.controller("headerLayoutCtrl",["APP","Api","$rootScope","$scope",function(o,n,t,e){}]),app.controller("footerLayoutCtrl",["APP","Api","$rootScope","$scope",function(o,n,t,e){}]),app.controller("mainLayoutCtrl",["APP","Api","$rootScope","$scope",function(o,n,t,e){}]),app.controller("viewsLayoutCtrl",["APP","Api","$rootScope","$scope",function(o,n,t,e){}]),app.controller("popupsCtrl",["APP","Api","Popup","$rootScope","$scope","$timeout",function(o,n,t,e,r,p){}]);